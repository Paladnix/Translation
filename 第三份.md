# 语言分析API概述

欢迎使用语言分析API。
这些API提供对识别文本结构的自然语言处理（NLP）工具的访问。
当前版本提供了三种类型的分析：

 -  [句子分离和标记化]
 -  [词性标记]
 -  [选区解析]

## 入门

首先，您可以熟悉上面列出的主要类型的分析。
下一个，查看获取可用分析器列表的API以及它们是如何命名的。
最后，查看分析新输入的API。


## 分析文本
使用特定分析器分析文本。


### 请求网址

https://westus.api.cognitive.microsoft.com/linguistics/v1.0/analyze

### 请求正文

使用特定分析器分析文本。 

### 请求正文中的JSON字段：

|字段       |	类型  |	描述            |
|:----------|   :---- |    :---------------|
|language   |	String|	输入文本的语言  |
|analyzerIds|	Object|	分析器数组      |
|text       |	String| 	要分析的文本。其最大长度为65536|
```json
{
	"language" : "en",
	"analyzerIds" : ["4fa79af1-f22c-408d-98bb-b7d7aeef7f04", "22a6b758-420f-4745-8a3c-46835a67c0d2"],
	"text" : "Hi, Tom! How are you today?" 
}
```
### 返回内容：
** HTTP响应200 **

成功的调用返回分析结果数组。根据输入参数，响应条目可以包含以下值：

|字段        |  类型  |   描述    |
|:-----------|  :-----|   :------ |
|analyzerId  |  String|   分析器的Id|
|result      |	Object|   分析结果|


```json
[
	{
		"analyzerId" : "4fa79af1-f22c-408d-98bb-b7d7aeef7f04", 
		"result" : ["NNP",",","NNP","VBP","PRP","NN","."]
	},
	{
		"analyzerId" : "22a6b758-420f-4745-8a3c-46835a67c0d2", 
		"result" : ["(TOP (S (NNP Hi) (, ,) (NNP Tom) (. !)))","(TOP (SBARQ (WHADVP (WRB How)) (SQ (VP (VBP are)) (NP (PRP you)) (NN today) (. ?))))"]
	}
]
```
### 返回内容：
** HTTP响应400 **

JSON中返回的错误代码和消息：

|错误代码 |描述|
|-------- |---------|
|BadArgument		  |	“文本”的长度不在有效范围内。  |
|BadArgument		  |	未指定参数“analyzerIds”。     |
|BadArgument		  | 不允许分析器重复。            |
|LanguageNotSupported |	不支持该语言。                |
|AnalyzerNotFound	  |	未找到分析器。                |
                                                      
```json
{
    "error":{
        "code":"BadArgument",
        "message":"Request body is invalid." 
    }
}
```
### 返回内容：
** HTTP响应401 **

JSON中返回的错误代码和消息：

|错误代码|	|描述|
|--------|  |----|
|未指定|    |订阅密钥或用户/计划无效。|

```json
{
    "error":{
        "statusCode": 401,
        "message": "Access denied due to invalid subscription key. Make sure you are subscribed to an API you are trying to call and provide the right key." 
    }
}
```
** HTTP响应403 **


```json
{
    "error":{
        "statusCode": 403,
        "message": "Out of call volume quota. Quota will be replenished in 2.12 days." 
    }
}
```
** HTTP响应415 **

不支持的介质类型错误。Content-Type应该是application / json


```json
{
    "error":{
        "code": 415,
        "message":"Invalid Media Type" 
    }
}
```
** HTTP响应429 **


```json
{
    "error":{
        "statusCode": 429,
        "message": "Rate limit is exceeded. Try again in 26 seconds." 
    }
}
```

列表分析器
此API返回一个字符String列表，表示当前注册的分析器。


### 请求网址

https://westus.api.cognitive.microsoft.com/linguistics/v1.0/analyzers
### 请求正文

### 返回内容：
** HTTP响应200 **

成功的调用返回在服务中注册的分析器数组。响应可以包含以下值：

|字段			|类型		|描述						|
|---------------|----------|---------------------------|
|ID				|String	|分析器的Id。				|	
|languages		|Object	|分析器支持的语言。			|		
|kind			|String	|描述了所提供的分析类型。	|		
|specification	|String	|其操作的规范的名称。		|	
|implementation	|String	|分析器的实现名称。			|	

```json
[
	{
		"id" : "22a6b758-420f-4745-8a3c-46835a67c0d2",
		"languages" : ["en"],
		"kind" : "Constituency_Tree",  
		"specification" : "PennTreebank3", 
		"implementation" : "SplitMerge"
	}, 
	{
		"id" : "4fa79af1-f22c-408d-98bb-b7d7aeef7f04",
		"languages" : ["en"],
		"kind" : "POS_Tags", 
		"specification" : "PennTreebank3", 
		"implementation" : "cmm"
	},
	{
		"id" : "08ea174b-bfdb-4e64-987e-602f85da7f72",
		"languages" : ["en"],
		"kind" : "Tokens", 
		"specification" : "PennTreebank3", 
		"implementation" : "regexes"
	} 
]
```
### 返回内容：
** HTTP响应400 **

JSON中返回的错误代码和消息：


```json
{
    "error":{
        "code":"BadArgument",
        "message":"NotSupported." 
    }
}
```
### 返回内容：
** HTTP响应401 **

JSON中返回的错误代码和消息：

|错误代码|	描述|
|--------|  ----|
|未指定  |	订阅密钥或用户/计划无效。|

```json
{
    "error":{
        "statusCode": 401,
        "message": "Access denied due to invalid subscription key. Make sure you are subscribed to an API you are trying to call and provide the right key." 
    }
}
```
** HTTP响应403 **


```json
{
    "error":{
        "statusCode": 403,
        "message": "Out of call volume quota. Quota will be replenished in 2.12 days." 
    }
}
```
** HTTP响应429 **


```json
{
    "error":{
        "statusCode": 429,
        "message": "Rate limit is exceeded. Try again in 26 seconds." 
    }
}
```
** HTTP响应415 **

不支持的介质类型错误。Content-Type应该是application / json


```json
{
    "error":{
        "code":415,
        "message":"Invalid Media Type" 
    }
}
```